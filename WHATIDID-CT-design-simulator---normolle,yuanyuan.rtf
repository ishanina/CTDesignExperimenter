{\rtf1\ansi\ansicpg1252\cocoartf1187\cocoasubrtf400
\cocoascreenfonts1{\fonttbl\f0\fswiss\fcharset0 Helvetica;\f1\fnil\fcharset0 Consolas;\f2\fnil\fcharset0 Consolas-Bold;
\f3\fnil\fcharset0 HelveticaNeue;\f4\fnil\fcharset0 Georgia;\f5\fmodern\fcharset0 Courier;
\f6\fnil\fcharset0 Monaco;\f7\fnil\fcharset0 LucidaGrande;\f8\froman\fcharset0 TimesNewRomanPSMT;
\f9\ftech\fcharset77 Symbol;\f10\fnil\fcharset0 Verdana;\f11\fmodern\fcharset0 CourierNewPSMT;
\f12\fmodern\fcharset0 CourierNewPS-ItalicMT;}
{\colortbl;\red255\green255\blue255;\red217\green11\blue0;\red255\green83\blue8;\red206\green59\blue0;
\red155\green44\blue1;\red38\green38\blue38;\red0\green135\blue135;\red213\green14\blue52;\red251\green0\blue7;
\red61\green52\blue46;\red251\green251\blue249;\red234\green54\blue39;\red218\green219\blue223;\red240\green241\blue241;
\red49\green49\blue49;\red52\green52\blue52;\red237\green237\blue237;\red83\green83\blue83;\red255\green255\blue234;
}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker .......}{\leveltext\leveltemplateid1\'07.......;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid4}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}}
\margl1440\margr1440\vieww10800\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\f0\fs24 \cf0 WHATIDID-CT-design-simulator---normolle,yuanyuan\
\
\
2013-01-30\
The package has an older version of ExpPlatform_ActionQ_v8.R,  71MB\
The correct file is ExpPlatform_ActionQ_v8_new.R,\
same as YS_ExpPlatform_ActionQ_v8_new.R,  110MB\
\
git commit:\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf2 First version of rogerTestsYuanuyanCode.R .  I had this working when Dan visited.  Now it's in a brand-new folder (this project). Using the package doesn't work-- seems to be obsolete- so I'm loading from the file ExpPlatform_ActionQ_v8_new.R.\
Error message: # Error in getMean(designSpec@BetaPriorSpec) : \
#   error in evaluating the argument 'distrSpec' in selecting a method \
# for function 'getMean': \
# Error: no slot of name "BetaPriorSpec" for this object of class "CRMSpecifier"\
\
#This is true.  but I will try CRMExpSpecifier next.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 \
getting-info-on-classes-and-methods.R  === checked it in.\
\
\
If I load her package (not the v8_new version), and run rogerTestsYuanyuanCode.R,\
the error is:\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf3 Error in sim1CT(designSpec = crm9, popModelSpec = PopModelSpec, outcomeModelSpec = ToxDoseThresholdModelSpec) : \
  error in evaluating the argument 'popModelSpec' in selecting a method for function 'sim1CT': Error: object 'PopModelSpec' not found\cf0 \
No big deal-- just mistyping (but why did it work before??)\
\
If I add "s", PopModelSpecs, this was set to list(NULL), so it's found.  \
Now the error is:\
\cf4 Error in function (classes, fdef, mtable)  : \
  unable to find an inherited method for function "sim1CT", for signature "CRMSpecifier", "list", "DoseThresholdModelSpecifier"\cf0 \
Possibly this is a v8_new signature. popModelSpec="OptionalPopModelSpecifier"\
No!  Old and new versions are the same.\
So, PopModelSpecs = list(NULL)\
was just wrong. Can't be a list.\
\
If I change the arg to  popModelSpec=NULL, the signature likes it.\
Then the error is:\
\cf4 Error in if (TrtAllo > DoseThreshold) ThisPatOutcome <- 1 : \
  argument is of length zero\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 This is repeatable.\
\
Finally, if there is NO popModelSpec, then\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf5 Error in function (classes, fdef, mtable)  : \
  unable to find an inherited method for function "sim1CT", for signature "CRMSpecifier", "missing", "DoseThresholdModelSpecifier"\cf0 \
\
So let's return to popModelSpec=NULL. \cf4 TrtAllo > DoseThreshold\cf0 \
\
It seems that this line in generateOutcomes says that you need a PopModelSpec, to set the dose threshold.\
        DoseThreshold <- thisPatCurrentData@BaseChars[DoseThresholdName]\
------\
\
OK, looking good. Got the PK working nicely as of 4:22 PM 2013-01-30\
\
To do:\
\
Each Scenario in an experiment object needs structure... and documentation!\
\
Convenience methods to save user from needing to understand all that S4 crap.\
\
Parameter constants that change only from scenario to scenario.  Automatic generation of the list of spec objects, across a vector of values for the parameter constants.  E.g.  PK parameters.\
Should not be buried in the spec constructors.\
\
Graphical interface, maybe using Shiny at first.\
----\
\
OK, playing with Shiny.  Easy!  runApp() or runApp(dirname).\
The dir has  server.R and ui.R.  (Or,   www/index.html).\
\
options(error=recover)   is appealing!!\
\
----\
\
\
2013-02-06\
\
I cannot build CTDesignExplorerDevel now, though apparently I could before, because I see the file CTDesignExplorer_1.1.tar.gz.  I can't install that either.\
The error is:\
	Error in loadNamespace(package, c(which.lib.loc, lib.loc)) : \
	  in package \'91CTDesignExplorer\'92 classes EvalProbSuccPhase2Specifier, 	Phase2BryantDaySpecifier were specified for export but not defined\
\
Ah, but all of a sudden, I can!!  (Build it, not install it.)\
\
I used FileMerge to add the code sections for EvalProbSuccPhase2Specifier and Phase2BryantDaySpecifier into CTDesignExplorerDevel/R/ExpPlatform_ActionQ_devel.R \
\
I rebuilt CTDesignExplorer_1.1.tar.gz\
On tryig to install, now checkRequirements is missing.  It's been renamed to checkInteroperability, so I modify NAMESPACE accordingly, and rebuild.\
Installation successful.\
To make sure everything is cleaned up, I restart the RStudio project.\
----\
\
\
2013-02-10\
\
I think that doExperiment (and maybe sim1CT) worked before because I had "v7" loaded.\
In v8 and devel, the signature for doExperiment requires an arg called userInput. Without v7 it shouldn't have worked before.\
\
Currently CTDesignExplorer Version 1.0 (same as v8) is installed and running. The code file is ExpPlatform_ActionQ_v8.R .\
The new code is Version 1.1, and its name is CTDesignExplorerDevel and the code is ExpPlatform_ActionQ_devel.R\
\
The new code has a lot of support for prior distributions.\
There is a mystery concerning AlphaPriorSpec and BetaPriorSpec. Apparently these are priors for the intercept and slope in the logit model for dose-toxicity.\
\
2013-02-11\
\
I'm going to begin designing the interface. Starting with 1.0.\
\
The code in the setMethod help file doesn't work.\
Why does setClass("track"...   take so long??? 30 seconds?\
\
The errors are in the help file for setClass.  Do NOT assign the setClass return value. Use new() to create an object.\
Seems to work fine if I rename track to track2.  But not if "track".  I'm restarting.\
Works fine with track2, as I said.\
\
2013-02-12\
\
Working on prototype with shiny, going ok, see notes in git.\
Here's the error message I keep getting:\
\pard\pardeftab720\sl320

\f1 \cf6 currentContext 
\f2\b =
\f1\b0  
\f2\b function
\f1\b0 () \{\
\'a0\'a0\'a0\'a0\'a0\'a0
\f2\b if
\f1\b0  (is.null(\cf7 .\cf6 currentContext))\
\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0stop(\cf8 'Operation not allowed without an active reactive context. '\cf6 ,\
\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\cf8 '(You tried to do something that can only be done from inside a '\cf6 ,\
\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\'a0\cf8 'reactive function.)'\cf6 )\
\'a0\'a0\'a0\'a0\'a0\'a0
\f2\b return
\f1\b0 (\cf7 .\cf6 currentContext)\
\'a0\'a0\'a0\'a0\}\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\f0 \cf0 I thought it was enough to refer to "input" inside, but no.\
\
2013-02-13\
\
Moved ui, server to _shiny_with_tabs\
\
The GUI is now working ( you can select the class, the main panel lists the subclasses.)\
runApp("_shiny_buttons").\
\
Now we have BaseCharModel-- but the PopModel I made of 3 BaseChars is not showing up there.  Spelling?\
\
I want the code, RGenFun, to read local slots. Struggling with the method "generateBaseChar" to allow it to do that. If the eval call has only the text arg, it doesn't see the local slots-- which is very strange.  If you add the arg "envir=baseCharModelSpec", then it does--- but then it doesn't find "rnorm"!!\
\
OK, problem solved.\
 \
2013-02-15\
\
TODO:    common data elements.\
\
Watch out for duplicate input and output slot names.  They name a JS object. \
\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\b \cf0 Sorting out requirements, provisions, CDEs, parameters, and slots.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\b0 \cf0 \
A parameter defines a model spec. PopSpecs do not have parameters, because they are composite, but the others do.\
A parameter should be a slot.\
\
Each provision has an RGenFun equation.\
(However,  PopSpecs--  get their provisions from the component BaseChars.)\
Aside from PopSpecs, when there are multiple provisions there must be multiple RGenFuns.\
Each provision and each requirement should be a CDE in the future.\
An RGenFun can contain both requirements and parameters.\
\
(Added April 11)\
We should be able to parse the RGenFun.\
Any inputs should be either parameters or requirements.\
Any assignments should be provisions.\
\
Provisions should be slots, because if it uses a RNG, and if it's retrieved more than once, it should be the same value. So the RGenFun is called only one for every instantiation.\
\
\
getRequirements should not be specially written for each class.\
\
CDE repository\
The main purpose is so that one maximizes interoperability by assuring that variables (CDE usages) meaning the same thing (especially of the same data type) can be hooked together between Specs, and that one does not re-invent a CDE \
does not invent a new name for one that exists, or re-use the same name for something different-- generating a spurious interoperability.\
\
\
\
2013-02-16\
\
Designing 
\b \ul sim1CT
\b0 \ulnone , the method and the interface:\
\
For simplicity of the interface, we select ONE of each:  PopSpec, OutcomeSpec, DesignSpec.\
This is the current signature:\
	designSpec="DesignSpecifier", popModelSpec="OptionalPopModelSpecifier", 	outcomeModelSpec="OutcomeModelSpecifier"\
showMethods  also reports a version with signature\
	designSpec="CRMSpecifier", popModelSpec="PopModelSpecifier", 		outcomeModelSpec="DoseThresholdModelSpecifier"\
    (inherited from: designSpec="DesignSpecifier", popModelSpec="OptionalPopModelSpecifier", 	outcomeModelSpec="OutcomeModelSpecifier")\
I can't find a definition for this version. OK, it's inherited.\
But there are two other subclasses:\
[1] "APlusBSpecifier"          "CRMSpecifier"             "Phase2BryantDaySpecifier"\
So I don't know why the other 2 don't show up too.\
\
\
2013-02-18\
\
\
I just checked in the first version that show the main panel for "Define one clinical trial".\
\
2013-04-12\
\
New insights on parameters, inputs, outputs etc:\
	We should be able to parse the RGenFun.\
	Any inputs should be either parameters or requirements.\
	Any assignments should be provisions.\
	Instead of RGenFun,\
		every provision should have a provision function or method.\
		They should be chain-able, as with OncoTCap.\
		Extract the inputs from args or introspection.\
		Extract the outputs from the return() line in body().\
	Note that the Outcome objects don't use RGenFun.\
	Stopping rules also have inputs- requirements.\
\
I managed to add radio buttons to the table. Called it output$objects_table_for_OneCT\
Used the method from my question's answer:\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://stackoverflow.com/questions/15512510/in-rstudio-shiny-wishing-to-customize-a-table"}}{\fldrslt \cf0 http://stackoverflow.com/questions/15512510/in-rstudio-shiny-wishing-to-customize-a-table}}\
\
Probably need to move to the html style, stop ui.R server.R style.\
\
Insight:  in calls to renderText etc, the expr arg is turned into a func, \
which is stored in the  environment\
of the function returned by the renderXXX call.\
\
2013-04-15\
Some notes on parameters etc.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 \ul \ulc0   parameter:\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 \ulnone 	new() could  use RNG to set parameter.  \
	RNG parameters are in the class; realizations are in the instance.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 \ul   Outcomes:\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 \ulnone Should Outcomes be organized like BasChar and PopModels?\
Some outcomes may depend on others.\
You might not know about future Designs air Eval Crits,\
so any "intermediate" variable might need to be a Provision in the future.\
So all SHOULD be treated as Provisions.\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 \ul Inputs, outputs\ulnone \
Each output has a function. the inputs can be:\
	requirements pulled from "upstream" spec objects\
	parameters\
	other outputs in this instance.\
To guarantee the latter is correct we need to order function calls for dependence, just a as in oncotcap.\
\
\ul Eval Criteria\ulnone \
eval criteria fall in several categories\
	Summary stat of a CT "conclusion"\
	Summary stat of a CT summary stat over patients (special case of "conclusion"?)\
	CT conclusion statistics compared to the "truth".\
\
See spec object relationships.ezdraw\
\
\
2013-06-12\
\
With R 3.0.0,  some reintallations are needed.\
devtools::install_github("shiny-incubator", "rstudio")\
\
runApp("_shiny_advanced")\
\
2013-06-13\
\
I wrote S3andS4_getting_info.Rnw\
and set up TeXShop to run Sweave---  it works!!  Including a chunk.\
\
\
\
TODO:  Fix up the whole thing about requirements, provisions, slots, parameters.\
\
\
2013-06-14\
\
I removed packages\
remove.packages("CTDesignExplorer")\
remove.packages("CTDesignExplorerDevel")\
and just sourced the file.\
This starts by removing all objects, so next we have to re-source and run createCTDEcatalog().\
\
Now the error is \
   
\f3\fs28 \cf9 unable to find an inherited method for function \'91allocateTrts\'92 for signature \'91"CRMSpecifier", "CTData", "numeric", "integer"\'92
\f0\fs24 \cf0 \
\
If I try Bryant-Day,\
\pard\pardeftab720\sl400

\f3\fs28 \cf9   unable to find an inherited method for function \'91generateInitialActions\'92 for signature \'91"Phase2BryantDaySpecifier"\'92
\f0\fs24 \cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 \
If I try  APlusBSpecifier,\
\pard\pardeftab720\sl400

\f3\fs28 \cf9 could not find function "CTresultToString"
\f0\fs24 \cf0 \
\
so it will probably work as soon as I find that function!\
Ah, there it is, in patientToString,CTresultToString.R\
But now, \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0    
\f3\fs28 \cf9 unable to find an inherited method for function \'91allocateTrts\'92 for signature \'91"CRMSpecifier", "CTData", "numeric", "integer"\'92
\f0\fs24 \cf0 \
\pard\pardeftab720\sl400
\cf0 \
even though it's a different design.\
-----\
From 1.1 to 1.2 I changed checkRequirements to checkInteroperability.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 -----\
Problems installing the package \
	Warning in getPackageName(where) :\
		  Created a package name, \'912013-06-14 12:13:36\'92, when none found\
and\
	  there is no package called \'9136\'92\
were due to \
	 rm(list=ls(all=T))\
at the top of ExpPlatform_ActionQ_v8.R\
\
----\
\
Could not commit some changes.  The reason:\
	I had to remove CTDesignExplorer from .gitignore before I could commit changes to files inside.\
-----\
\
A great book for understanding git is at\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://git-scm.com/book"}}{\fldrslt \cf0 http://git-scm.com/book}}\
\
"
\f4\fs28 \cf10 \cb11 If you\'92re familiar with other VCS systems such as Subversion, you\'92ll notice that the command is 
\f5 \cf12 \cb1 clone
\f4 \cf10 \cb11  and not 
\f5 \cf12 \cb1 checkout
\f4 \cf10 \cb11 ."\
\
My students should read it and above all {\field{\*\fldinst{HYPERLINK "http://git-scm.com/book/en/Getting-Started-Installing-Git"}}{\fldrslt http://git-scm.com/book/en/Getting-Started-Installing-Git}}\
\
      untracked      ->       staged     ->    modified       ->       staged       ->       committed\
                            git add              EDITING                git add               git commit\
\pard\pardeftab720\sl360

\f5 \cf12 \cb1 \
git config --list
\f4 \cf10 \cb11 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf10 is worthwhile.\
\
Note difference between\
\pard\pardeftab720\sl360

\f5 \cf12 \cb1 git diff <file>
\f4 \cf10 \cb11 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf10 and  \
\pard\pardeftab720\sl360

\f5 \cf12 \cb1 git diff --staged <file>
\f4 \cf10 \cb11    (or --cached)\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf10 \
"Unlike many other VCS systems, Git doesn\'92t explicitly track file movement. If you rename a file in Git, no metadata is stored in Git that tells it you renamed the file."\
\
If I do git mv 
\f0\fs24 \cf0 \cb1 ExpPlatform_ActionQ_v8.R ExpPlatform.R\
will I see the differences after editing?\
\
\pard\pardeftab720\sl360

\f5\fs28 \cf12 git log -p -2\
\
git log --pretty=format:"%h - %an, %ar : %s"\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\f0\fs24 \cf0 \
\
"
\f4\fs28 \cf10 \cb11 If you clone a repository, the command automatically adds that remote repository under the name 
\i origin
\i0 . So, 
\f5 \cf12 \cb1 git fetch origin
\f4 \cf10 \cb11  fetches any new work that has been pushed to that server since you cloned (or last fetched from) it."\
\
"you can use the 
\f5 \cf12 \cb1 git pull
\f4 \cf10 \cb11  command to automatically fetch and then merge a remote branch into your current branch."\
\
"Creating an annotated tag in Git is simple. The easiest way is to specify 
\f5 \cf12 \cb1 -a
\f4 \cf10 \cb11  when you run the 
\f5 \cf12 \cb1 tag
\f4 \cf10 \cb11 command:" "The 
\f5 \cf12 \cb1 -m
\f4 \cf10 \cb11  specifies a tagging message"\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://git-scm.com/book/en/Git-Basics-Tips-and-Tricks"}}{\fldrslt \cf10 http://git-scm.com/book/en/Git-Basics-Tips-and-Tricks}}  for command line shortcuts.\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://git-scm.com/book/en/Git-Branching-What-a-Branch-Is"}}{\fldrslt \cf10 http://git-scm.com/book/en/Git-Branching-What-a-Branch-Is}}   "How does Git know what branch you\'92re currently on? It keeps a special pointer called HEAD. Note that this is a lot different than the concept of HEAD in other VCSs you may be used to, such as Subversion or CVS. In Git, this is a pointer to the local branch you\'92re currently on."\
"To switch to an existing branch, you run the 
\f5 \cf12 \cb1 git checkout
\f4 \cf10 \cb11  command."\
"Git resets your working directory to look like the snapshot of the commit that the branch you check out points to. It adds, removes, and modifies files automatically to make sure your working copy is what the branch looked like on your last commit to it."\
"when you try to merge one commit with a commit that can be reached by following the first commit\'92s history, Git simplifies things by moving the pointer forward because there is no divergent work to merge together \'97 this is called a "fast forward"."\
"Git automatically identifies the best common-ancestor merge base for branch merging... Git creates a new snapshot that results from this three-way merge and automatically creates a new commit that points to it. This is referred to as a merge commit and is special in that it has more than one parent."\
\
\
==>
\b  git could be the ideal medium for a shared resource without requiring maintenance of a single central repository.  
\b0 \
\
\
--------\
\
\pard\pardeftab720\sl400

\f3 \cf9 \cb1 no slot of name "DeltaToxProbForEarlyStop" for this object of class "CRMSpecifier"
\f4 \cf10 \cb11 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf10 \
even though 
\f3\i\b \cf6 \cb1 DesignSpecifier = p2bd\

\f4\i0\b0 \cf10 \cb11   Ahhh, but after clicking the green button, 
\f3 \cf9 \cb1 unable to find an inherited method for function \'91generateInitialActions\'92 for signature \'91"Phase2BryantDaySpecifier"\

\f4 \cf10 \cb11   \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\f0\fs24 \cf0 \cb1 So that's fixable.\
\
\
2013-06-16\
\
OK, everything is now in the git repository.\
The shiny interface works, with the command run().\
The catalog is generated automatically, and writes into .GlobalEnv -- so be careful!\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\b \cf0 Both crm9 and threePlusThree_five_tiers work fine.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\b0 \cf0 p2bd does not, because the generateInitialActions  method is not yet written for it.\
\
Tagged this working version:  working-alpha-version\
\
TODO:  Define outcome models as combinations of outcome models, just like population models.\
\
\
2013-06-17\
\
Why is Specifier a ClassUnion instead of a regular class or virtual class?\
Awkward... the code file reads from specific to general.\
\
setClass("Temp1", contains="Specifier")  FAILS\
 setClass("Temp1", contains="OutcomeModelSpecifier") SUCCEEDS\
even though it too is a ClassUnion\
What's the difference?\
\
subClassNames(getClass("Specifier")) --- can't differentiate between direct and all subclasses.\
although getClass("Specifier")  does know.\
\
\
------\
Do we need all those "None"s?\
Replace \
	c("None") 	by 	character(0) \
	("None", 	by	( \
	"None" 	by 	character(0) \
then see if it works.\
\
------\
checkRequirements needs complete rewriting.\
First, requirements and provisions should be extracted from the code.\
(Second thoughts:  doesn't fit well with using CDE's.)\
Second, there should be a simplest method that takes one Specifier and\
a list of Specifiers, and checks that each requirement in the first arg\
is fulfilled by (1) ALL or (2) ANY\
of the ones in the list.\
Then build from there.\
------\
\
A Specifier subclass has metadata. Parameters.  And maybe a shortcut name. And descriptor. And author etc.\
So it can't be a ClassUnion.\
\
-------\
The only use of specifierObjects is as components of an evaluation experiment.\
A Specifier subclass has to be transformed into something suitable for combining into a CT design evaluation experiment.\
* Each parameter can take on one value.\
(Specifier, Parameters, Values) -> specifierObject  (length(parameters) == length(values))\
* Each parameter can take on a short set of values.\
(Specifier, Parameter, Values) -> experimentDimension  (length(parameter) == 1)\
* Each parameter can take on a distribution, as in the Devel version.\
(Specifier, Parameter, Distribution) -> marginalizing over the parameter in the experiment, for example to get expected utilities.\
\
Thus a Specifier parameter is a ClassUnion of:\
	numeric\
	vector\
	distribution\
-------\
\
Experiment designs.\
* Full factorial\
* Central + explore-one-dim-at-a-time\
	\
-------\
\
\
See    ?dotsMethods\
and Martin's reply at {\field{\*\fldinst{HYPERLINK "http://r.789695.n4.nabble.com/2-setGeneric-s-same-name-different-method-signatures-td4658570.html"}}{\fldrslt http://r.789695.n4.nabble.com/2-setGeneric-s-same-name-different-method-signatures-td4658570.html}} \
\
\
2013-06-18\
\
Sudden warning message about RJSONIO happens when you add shiny to Depends in DESCRIPTION. From web search and my experience, it's not a problem.\
I should write the maintainer.\
\
If I add slots  \
	parameters, requirements, provisions \
to Specifier, now we have an issue.\
Some subclasses have specific parameters. \
They are their own slots.\
How can you handle that?\
Maybe on initialize, you copy values into the parameters slot.\
\
OK, I decided to use that approach.\
To figure out initialize() was difficult.\
This example works:\
\
	setClass("Temp", representation=representation(x="numeric"))\
	setMethod("initialize",\
		signature=signature(.Object="Temp"), \
		function(.Object, ...)\{\
			.Object=callNextMethod(.Object, ...)\
			.Object@x=.Object@x+1;  \
			.Object\})\
	new("Temp", x=1)\
\
I've incorporated that into BaseCharSpecifier\
\
-----\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://timelyportfolio.github.io/rCharts_rickshaw_gettingstarted/"}}{\fldrslt \cf0 http://timelyportfolio.github.io/rCharts_rickshaw_gettingstarted/}}\
looks interesting.\
\
----\
\
"Failed to create server"  happens when you are already running the App. You have to close the page AND escape the loop.\
\
\
2013-08-06\
\
In building the package, I got "invalid character" or something like that, because there is now the file classTree-explorations.R\
which apparently does not terminate with a complete expression.\
So when I moved files out (into inst/badR), the next one alphabetically then generated the same error.  When I move classTree-explorations.R into inst/badR, these errors go away.\
\
I was getting an error upon run() that turned out to be due to calling\
htmlEscape() with text=character(0).\
The file fixHtmlEscape.R puts a fixed version into the shiny package using copyInNamespace.\
This allows the interface to run. Seems OK. But I still don't know the cause.\
\
The package builds fine OUTSIDE of RStudio,\
but using the Build & Reload button, I get this:\
\
\pard\pardeftab720

\f6 \cf0 \cb13 Warning: undefined slot classes in definition of "ConcurrentTrtsData": TimesToOutcomes(class "OptionalNumeric")\
Warning: undefined slot classes in definition of "PatData": ID(class "OptionalNumeric"), BaseChars(class "OptionalNumeric"), PatTimes(class "OptionalNumeric")\
Warning: undefined slot classes in definition of "CTData": CTTimes(class "OptionalNumeric"), Conclusions(class "NumericLogical")\
Warning: undefined slot classes in definition of "BaseCharModelSpecifier": ConditionBaseCharNames(class "OptionalCharacter")\
Error in .walkClassGraph(ClassDef, "contains", where, attr(ext, "conflicts")) : \
  the 'superClass' list for class \'93NULL\'94, includes an undefined class \'93OptionalCharacter\'94\
Error in setClassUnion("OptionalPopModelSpecifier", c("PopModelSpecifier",  : \
  unable to create union class:  could not set members "NULL"\
Error : unable to load R code in package \'91CTDesignExplorer\'92\
ERROR: lazy loading failed for package \'91CTDesignExplorer\'92\
* removing \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\f0 \cf0 \cb1 \
(The "undefined slot classes" are because I commented out a couple of setClassUnion lines.)\
\
The cause is unknown.\
I've cleared the GlobalEnv and restarted the project, to no avail.\
The setClassUnion lines run fine in console or in R CMD BUILD.\
\
Yes, but R CMD INSTALL gives the same problem.\
\
There are numerous discussions with similar problems.   Search walkClassGraph.\
https://github.com/hadley/devtools/issues/168\
\
OK, problem solved.\
.Rprofile contained library(CTDesignExplorer)\
and you can't turn off with --vanilla inside RStudio Build&Reload.\
(I used remove.packages(CTDesignExplorer) to discover this.)\
\
Now, we have collating problems.\
See this useful message:\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://tolstoy.newcastle.edu.au/R/e4/help/08/07/18223.html"}}{\fldrslt \cf0 http://tolstoy.newcastle.edu.au/R/e4/help/08/07/18223.html}}\
\
\
2013-08-14\
\
Found the source of the htmlEscape error:    an <hr> tag.  Removed the tag.\
This was helpful to debug:\
	sys.calls()\
	POS=7; sys.call(which=-POS); ls(env=sys.frame(-POS))\
\
Upon startup there is an error message that does not interfere with the functionality.\
But good to try to understand:\
\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li720\fi-720\pardirnatural
\ls1\ilvl0\cf0 {\listtext	.......	}                          instance\
{\listtext	.......	}1 efficacyDoseThresholdOutcomeModel\
{\listtext	.......	}2      toxDoseThresholdOutcomeModel\
{\listtext	.......	}                   instance\
{\listtext	.......	}1                      crm9\
{\listtext	.......	}2 threePlusThree_five_tiers\
{\listtext	.......	}3                      p2bd\
{\listtext	.......	}Error in f.mainPanelHeader() : object 'input' not found\
{\listtext	.......	}                   instance\
{\listtext	.......	}1 doseThresholdPopModelSpec\
{\listtext	.......	}Here in f.sim1CTbuttonUI \
{\listtext	.......	}[1] "Value of sim1CTbutton is \\n"\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
\cf0 \
getPopulationModelOutputs in PopulationModel.R is in progress. Very important to complete this stuff.\
\
\
2013-08-17\
\
Succeeded in making PopulationModel (VariableNetwork,VN) object and drawing dependency graph.\
Note distinction between requirements and provisions internal to a PM, and external.\
internal it's for interoperability checking and ordering the evaluateOuput calls (and storing the results). Externally it's for fitting with other VNs, OMs, designs, etc.\
There, the only requirements are those not met by the members of the VN.\
\
\
\
2013-08-18\
\
Somehow, v_clearanceRate got the dataTypeDetail set to a VariableValue!  logical(0).\
Somehow, adding dataTypeDetail=NULL to the prototype made the problem go away.\
\
\
2013-08-19\
\
In the code for VariableNetwork constructor,\
for(slotName in names(getSlots(x=getClass("VariableNetwork"))) )\
    `@<-`(network, slotName, get(slotName))\
but when debugging, it's reported as \
for (slotName in names(getSlots(x = getClass("VariableNetwork")))) `@<-`(network, \
    "slotName", get(slotName))\
Where did the quotes come from?\
It's OK - bypassed the cute shit.\
\
\
### The VGs have to be named! (for list2env).   Done with latest commit.\
\
\
\
2013-08-20\
\
I Created a page at github,\
at {\field{\*\fldinst{HYPERLINK "https://github.com/professorbeautiful/CT-design-evaluator/generated_pages/new"}}{\fldrslt https://github.com/professorbeautiful/CT-design-evaluator/generated_pages/new}} :\
Instructions:\
\
	 After your page is generated, you can check out the new branch:\
\
	```\
	$ cd your_repo_root/repo_name\
	$ git fetch origin\
	$ git checkout gh-pages\
	```\
\
2013-08-21\
The  version pushed tonight builds (for me) in RStudio. \
Sorry, no documentation yet.\
To get started,\
1.  If you don't have a github account, get one.\
2.  Go to  {\field{\*\fldinst{HYPERLINK "https://github.com/professorbeautiful/CT-design-evaluator"}}{\fldrslt https://github.com/professorbeautiful/CT-design-evaluator}}\
3.  Click Fork.  Now you have your own copy.  \
4.  Copy the project to your computer using "git clone".  \
See {\field{\*\fldinst{HYPERLINK "https://help.github.com/articles/fork-a-repo"}}{\fldrslt https://help.github.com/articles/fork-a-repo}}\
(Alternatively, "clone in desktop" button-- no forking.)\
5.  Continue reading:  "Configure remotes" "More things you can do.\
\
To learn more about collaborating on github, see\
  {\field{\*\fldinst{HYPERLINK "https://help.github.com/articles/using-pull-requests"}}{\fldrslt https://help.github.com/articles/using-pull-requests}}\
\
6.  Try to compile the package.\
\
7.  Make a  change, a small one is OK.  Commit it.  Push it.\
\
\
\
2013-08-26\
\
As of tonight, SHA 
\f7 \cb14 a9b3a33b
\f0 \cb1 \
the package builds and the variable network evaluation seems to work.\
\
Yuanyuan used arguments "needy" and "giver".  Nice!\
\
\
2013-09-24\
merged the try-reqs-in-generatorCode-arg into master and pushed.\
all seems well.\
\
trying to migrate oncotcap 4 ideas into the actionQueue.\
\pard\pardeftab720\li109\fi239\ri1122\sl242\slmult1\qj

\f8 \cf0 The types of actions include\
\pard\pardeftab720\li1068\fi-360\ri1122\sl242\slmult1\qj
\ls2\ilvl0
\f9 \cf0 \'a5	
\f8 Initialize a variable value\
\ls2\ilvl0
\f9 \'a5	
\f8 Modify a variable value\
\ls2\ilvl0
\f9 \'a5	
\f8 Schedule a future event\
\ls2\ilvl0
\f9 \'a5	
\f8 Modify a schedule in place\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\f0 \cf0 Initialize a variable value--- same as VariableGenerator\
Modlfy a variable value-- we need to introduce this. But not urgent.\
\
Schedule a future event:   Events will trigger actions.\
\
In codeBundles there were also method-based triggers\
	initialize object\
	update object\
	initialize object collection\
	update object collection\
There are also if clauses.\
\
Example\
START\
Generate a new patient. -> schedule event NewPatient (now)\
New patient event (N)  ->  check eligibility (N) -> variable value\
			     -> event if(eligible) accrue event (N)\
Accrue -> modify variable patientCount\
	 -> initialize treatment assignment\
	-> schedule treatment event\
Treatment event 	-> generate and store outcome for patient\
			-> Check stopping rule    	-> Trial-stopped-event\
							-> Generate a new patient\
Trial-stopped-event -> generate and store conclusion for the trial.\
			-> generate and store summary statistics for the trial.\
\
\
2013-09-25\
\
Brief talk with Adam Brufsky.  See notes in Evernote from his talk.\
\
Meeting with Harry\
 He will take 10%, run some context inquiries early as well as usability later.\
  We distcussed Design pieces like\
     Elig Crit, TreatAssignment (schedule), InterimLook, DataAnalysis(summary, conclusion).\
  He favors more scaffolding.  I've been making classes for these things.\
\
  Validation of code against others'.\
  Speed: Rcpp, julia, map/reduce.\
\
Meeting with Bill and Michele\
  Borrow,  O -> CTDE:\
	Use the brown/green screen style.  Parameters are hyperlinked to editors.\
	Sections as defined above.  StatementBundle groups.\
	Define a Scenario. Then click Add-to-experiment. Add a label.\
	Criteria are shared by all scenarios, so make it a Wizard  NEXT/BACK.\
	Next: select criteria.\
	Next: run experiment, with NREPS=___.  View results.\
	A diff button to review the differences.\
  Patient Feature\
	VG\
	VG\
  Design Feature\
	Patient level: design\
		Elig\
		Treatment assignment\
		Treatment modification\
	Patient level: outcomes  (VGs)\
		Clinical response\
		Toxicities\
		Measurements\
	CT level\
		Interim look (e.g. dose escalation)\
		DataAnalysis\
\
\
2013-10-16\
CTDE UI considerations\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://www.nngroup.com/articles/mega-menus-work-well/"}}{\fldrslt \cf0 http://www.nngroup.com/articles/mega-menus-work-well/}}\
\
ontologies for clinical research\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://prsinfo.clinicaltrials.gov/definitions.html"}}{\fldrslt \cf0 http://prsinfo.clinicaltrials.gov/definitions.html}}\
\
\
\
2013-12-26\
To get the @slot functionality in roxygen2, just added recently, I needed first to update Rcpp version to 0.10.6, then to do\
   install.packages("~/Downloads/roxygen-3.0.0.tar.gz", repos=NULL, type="source")\
after downloading from github.  But this failed because somehow output of .Rprofile was being used as the names of files to compile.\
Installing directly from github using library(devtools); install_github("roxygen2")\
failed due to  Error 406: not acceptable  !!!!\
 (Vincent Carey got tripped up by this:  {\field{\*\fldinst{HYPERLINK "https://www.mail-archive.com/bioc-devel@r-project.org/msg00603.html"}}{\fldrslt https://www.mail-archive.com/bioc-devel@r-project.org/msg00603.html}})\
  \
This finally worked:\
install.packages(repos=NULL, "/Users/Roger/Downloads/roxygen-3.0.0.tar.gz", type="source", INSTALL_opts="--no-multiarch")\
All options are necessary.   Without INSTALL_opts="--no-multiarch", I get these errors \
	arch - R\
	*** arch - R\
	ERROR: sub-architecture 'R' is not installed\
	*** arch - x86_64\
	Error in library.dynam(lib, package, package.lib) : \
	  shared object \'91roxygen2.so\'92 not found\
I don't understand this, but at least the option solves the problem.\
\
options(devtools.install.args="--no-multiarch")\
\
Info about the new roxygen2 is at {\field{\*\fldinst{HYPERLINK "https://github.com/klutometis/roxygen/releases/tag/v3.0.0"}}{\fldrslt https://github.com/klutometis/roxygen/releases/tag/v3.0.0}}\
I was in it for the new @slot directive.\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "https://support.rstudio.com/hc/en-us/categories/200035113-Documentation"}}{\fldrslt \cf0 https://support.rstudio.com/hc/en-us/categories/200035113-Documentation}}\
is a good jumping-off point for features of RStudio.\
\
\
\
2013-12-30\
\
See Rstudio-shortcuts-selected.R\
\
For ABCDE, the dosetiers and/or doses parameter is\
shared.  One stopping rule needs to know if the top has been reached and completed.\
\
2014-01-03\
\
Argggghh!\
\
> setMethod("doEvent", signature=list("ScaffoldEvent", "Scenario"), ...\
\
> is(object=scenario, "ListOfInserts")\
[1] TRUE\
\
> is(object=scenario, "Scenario")\
[1] TRUE\
\
> is(object=actionQueue$actions[[1]], "ScaffoldEvent")\
[1] TRUE\
\
> getMethod("doEvent", signature=c("ScaffoldEvent", "ListOfInserts"))\
  ERROR!\
\
> getMethod("doEvent", signature=c("ScaffoldEvent", "Scenario"))\
Method Definition:\
\
function (event, scenario = defaultScenario, ...) \
etcetera.\
\
> doEvent(actionQueue$actions[[1]], scenario)\
 Error in (function (classes, fdef, mtable)  : \
  unable to find an inherited method for function \'91doEvent\'92 for signature \'91"ScaffoldEvent", "ListOfInserts"\'92\
\
\
2014-01-03\
\
To get Hadley's pryr, I downloaded pryr-master.zip from github, unzipped, did \
 R CMD BUILD pryr-master\
 R CMD INSTALL pryr_0.1.tar.gz --no-multiarch\
As usual, install_github did not work. This did not work:\
	devtools::install_github("pryr", INSTALL_opts="--no-multiarch")\
The INSTALL_opts was "unused argument", despite what documentation says about ...\
\
\
2014-01-05\
\
It did not work to have the different insert subtypes as subclasses of VariableGenerator.\
In particular this cast fails:     as("DesignParameter", VariableGenerator(...)\
Now, there's a new slot in a VG called insertSubType.\
Also automatic creation of constructors that set the insertSubType, e.g.\
	DesignParameter = function(...) \
	    VariableGenerator(insertSubType=insertSubType, ...)\
	<environment: namespace:CTDesignExperimenter>\
No arg prompting though, so for now for convenience, type \
	VariableGenerator(   <TAB> \
to get arg names, then replace VariableGenerator with the insertSubType name.\
\
Later, I'd like to replace "insertSubType" by "context" throughout.\
\
\
CASE SENSITIVITY in file names\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://stackoverflow.com/questions/8904327/case-sensitivity-in-git"}}{\fldrslt \cf0 http://stackoverflow.com/questions/8904327/case-sensitivity-in-git}}\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://thread.gmane.org/gmane.comp.version-control.git/188469"}}{\fldrslt \cf0 http://thread.gmane.org/gmane.comp.version-control.git/188469}}\
\
REBASE\
good explanation of rebase:\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://git-scm.com/book/ch3-6.html"}}{\fldrslt \cf0 http://git-scm.com/book/ch3-6.html}}\
"
\f4\fs28 \cf10 \cb11 rebasing makes for a cleaner history"\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\f0\fs24 \cf0 \cb1 \
\
\
2014-01-10\
\
The queue is working.\
\
\
TODO:\
\
We want VVenv = evaluateVNoutputs(offStudyVN, currentPatient$VVenv);  start with current VVenv. TODO: (a) does this really avoid recomputing, (b) check, is currentPatient ointer working?\
\
\
> trialData$currentPatient$temp = "current"\
> trialData$patientData[[1]]$temp\
[1] "current"\
\
\
2014-01-13\
\
The action queue  seems ok all the way to the bottom.  Look for "TODO" sections.\
Some day, get to the bottom of "puzzling-bug-getRequirementNames.rtf".\
\
Doing a push and a label.\
\
\
2014-02-25\
\
To install from github, if encountering the multi-arch sub-architecture problem described above,\
library(devtools)\
install_github("testthat", args="--no-multiarch")\
Note use of "args" instead of "INSTALL_opts".  \
(I had to chase down the ... args until encountering devtools:::install.)\
\
2014-02-28\
\
install_github("shiny", args="--no-multiarch")\
Brings in vesion 0.8.99.\
The warnings like\
	In FUN(X[[2L]], ...) :\
	  Created a package name, \'912014-02-28 22:36:00\'92, when none found\
	36: In FUN(X[[2L]], ...) :\
can be ignored.\
help did not work until Idid an R session restart.	\
\
\
2014-03-02\
This looks useful.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural
{\field{\*\fldinst{HYPERLINK "http://stackoverflow.com/questions/21133475/return-a-functions-code"}}{\fldrslt \cf0 http://stackoverflow.com/questions/21133475/return-a-functions-code}}\
\
\
2014-04-18\
\
options(devtools.install.args="--no-multiarch")\
devtools::install_github("ShinySky","AnalytixWare")\
library(shinysky)\
Contains jstree().\
Note singleton().\
\
2014-04-26\
\
I used shinysky  jstree successfully to display the defaultScenario.\
\
It's useful to look at the output of jstree:\
\
\
and to study the syntax, e.g. the excerpt from {\field{\*\fldinst{HYPERLINK "http://www.w3schools.com/jquery/jquery_syntax.asp"}}{\fldrslt http://www.w3schools.com/jquery/jquery_syntax.asp}}\
\
===========\
\
\pard\pardeftab720\sl320\sa240

\f10\fs26 \cf15 The jQuery syntax is tailor made for 
\b selecting
\b0  HTML elements and performing some 
\b action
\b0  on the element(s).\
Basic syntax is: 
\b $(
\i selector
\i0 ).
\i action
\i0 ()
\b0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl320
\ls3\ilvl0\cf15 {\listtext	\'95	}A $ sign to define/access jQuery\
{\listtext	\'95	}A (
\i selector
\i0 ) to "query (or find)" HTML elements\
{\listtext	\'95	}A jQuery 
\i action
\i0 () to be performed on the element(s)\
\pard\pardeftab720\sl320\sa240
\cf15 Examples:\
$(this).hide() - hides the current element.\
$("p").hide() - hides all <p> elements.\
$(".test").hide() - hides all elements with class="test".\
$("#test").hide() - hides the element with id="test".\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\f0\fs24 \cf0 ===========\
See "
\f10\fs26 More Examples of jQuery Selectors
\f0\fs24 "\
at {\field{\*\fldinst{HYPERLINK "http://www.w3schools.com/jquery/jquery_selectors.asp"}}{\fldrslt http://www.w3schools.com/jquery/jquery_selectors.asp}}\
and complete listing: {\field{\*\fldinst{HYPERLINK "http://www.w3schools.com/jquery/jquery_ref_selectors.asp"}}{\fldrslt http://www.w3schools.com/jquery/jquery_ref_selectors.asp}}\
\
\
A shortcut for 
\f11\fs28 \cf16 \cb17 $(document).ready(function()\{\

\f0\fs24 \cf0 \cb1 \
\pard\pardeftab720

\f11\fs28 \cf16 \cb17 	$(function()\{\
	\'a0\'a0 
\f12\i // jQuery methods go here...
\f11\i0 \
	\});\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural

\f0\fs24 \cf0 \cb1 \
For example, the return val for jstree("jstree1", jstree.obj(scenarioTree))\
begins thus:\
	<script>$(function() \{$('#jstree1').jstree()\})</script>\
	<div id="jstree1" class="ss-jstree">\
	  <ul>\
	    <li>\
	      BeginSimulation  ( 1 )\
	      <ul>\
        <li>vg_SampleSizeMax</li>\
...\
So jstree() will be done AFTER the doc is loaded, in particular, after the jstree1 div is created.\
\
USING CSS: example:\
\pard\pardeftab720

\f11\fs28 \cf0 	$(this).css("background-color","#ffffff");
\f0\fs24 \
\
Styles can be included as html:\
	<style type="text/css">\
	.important \{font-weight:bold;font-size:xx-large;\}\
	.blue \{color:blue;\}\
	</style>\
\
{\field{\*\fldinst{HYPERLINK "http://www.w3schools.com/tags/ref_httpmethods.asp"}}{\fldrslt http://www.w3schools.com/tags/ref_httpmethods.asp}}\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sl320
\ls4\ilvl0
\f10\b\fs26 \cf15 {\listtext	\'95	}GET
\b0  - Requests data from a specified resource\
\ls4\ilvl0
\b {\listtext	\'95	}POST
\b0  - Submits data to be processed to a specified resource\
\pard\pardeftab720\sl320\sa240
\cf15  
\b Note:
\b0  The GET method may return cached data. POST can also be used to get some data from the server. However, the POST method NEVER caches data, and is often used to send data along with the request.\
\
For jstree methods,\
http://www.jstree.com/api/#/?q=(\
See {\field{\*\fldinst{HYPERLINK "http://shiny.rstudio.com/gallery/"}}{\fldrslt http://shiny.rstudio.com/gallery/}}\
See {\field{\*\fldinst{HYPERLINK "http://shiny.rstudio.com/articles/"}}{\fldrslt http://shiny.rstudio.com/articles/}}\
\pard\pardeftab720\sl320\sa240
{\field{\*\fldinst{HYPERLINK "http://shiny.rstudio.com/articles/building-inputs.html"}}{\fldrslt \cf15 http://shiny.rstudio.com/articles/building-inputs.html}}\
\pard\pardeftab720\sl320\sa240
{\field{\*\fldinst{HYPERLINK "http://shiny.rstudio.com/articles/building-outputs.html"}}{\fldrslt \cf15 http://shiny.rstudio.com/articles/building-outputs.html}}\
\
======\
\
2014-05-19\
Returning to this project.\
Eventually, we will clean the .GlobalEnv, AFTER we have all the new code in the package. For example, runApp is not yet in the package. So DO NOT clean.\
.ctde loads our package. This is needed to create objects and make some functions and classes available.\
To run the latest interface:\
vg_SampleSizeMax = createVG_FixedSampleSizeMax()\
.ctde()\
\
2014-05-21\
github token (needed due to 2-level authentication; see {\field{\*\fldinst{HYPERLINK "http://blog.apericore.com/enabling-https-access-to-your-github-repositories-after-enabling-two-factor-authentication/"}}{\fldrslt http://blog.apericore.com/enabling-https-access-to-your-github-repositories-after-enabling-two-factor-authentication/}}).\
\pard\pardeftab720\sl460

\f1\fs28 \cf18 \cb19 56cc547d7bba289067a1add3fd7730ea611d610d\

\f10\fs24 \cf0 OK, now I can push!\
Hopefully won't have to do this again.\
The token has been stored in keychain: github.com, May 21, 4:27PM.\
Strange behavior of attributes when subclassing:\
See bad-list-class-behavior-example.Rmd, also discussion on stackoverflow.\
\
2014-05-22\
Valuable insight from renderText body:\
    installExprFunction(expr, "func", env, quoted)\
    function() \{\
        value <- func()\
        return(paste(capture.output(cat(value)), collapse = "\\n"))\
    \}\
\
Useful notes from old interface (shinydocs/ui.R)\
   # condition MUST BE VALID JS. \
    # Therefore: input & output cannot share an ID. \
    # Thus, the prepended "x".\
    # Likewise, you can't put the following 2 lines in 2 places!!\
    # If you see...\
    #   Error in tag("div", list(...)) : argument is missing, with no default\
    # it's because of an extra comma--  empty arg.\
\
Let's check out jQueryUI for popups etc:\
{\field{\*\fldinst{HYPERLINK "http://stackoverflow.com/questions/19172904/r-shiny-package-add-a-popup-with-error-warning"}}{\fldrslt http://stackoverflow.com/questions/19172904/r-shiny-package-add-a-popup-with-error-warning}}\
\
\
The interface:\

\b If a scaffold block is clicked,
\b0  show list of available additional inserts for that block, and a NEW option.\
After adding, check and report requirements/provisions integrity.\
If there is a missing requirement, suggest the available possibilities, or NEW.\

\b If a VG is clicked
\b0 , options are:\
	Remove, or Edit, or Clone and edit. \

\b If multiple VGs are selected,
\b0 \
those options disappear, and \

\b Clone scenario
\b0 : \
	Use popups to require new name, new description\
	Then refresh the scenario name text.\

\b Add scenario to experiment:  (currently called the evaluation tab)\

\b0 \
To get the node depth of the selected node:\
 {\field{\*\fldinst{HYPERLINK "http://stackoverflow.com/questions/13908386/jstree-get-the-level-of-selected-node"}}{\fldrslt http://stackoverflow.com/questions/13908386/jstree-get-the-level-of-selected-node}}\
\
\

\b 2014-05-24\

\b0 See  mvbutils::search.task.trees\
\
ss-jstree-customized.js  (purpose: to return the node depth instead of the text)\
hangs all of RStudio!\
\

\b 2014-05-27\

\b0 Wrote traverse.R  It looks like it will work to search myTree and extract level information and index vector information.  Next step, have ALL search hits returned.\
\
Works with both myTree and myTreeObj.  The former is the latter prepended by 5 3 1.\
\
Now:\
 we can collect the index vectors for ALL matching nodes.\
 we can add an attribute to a <li> node.  Use "shorten" on the index vector for the search result to get the full shiny tag section.\
\
Goals:\
(1) Set icon or other property for nodes, depending on depth. We have index depth; how do we convert that to node depth?\
   As of now,  \
	block = index depth = 9 = tree depth = 1\
	vg/ec = index depth = 15 = tree depth = 2\
\
(2) When a VG/EC node is selected for deletion, delete from both the visible tree and the scenario. (Prompt for new scenario name, or otherwise show it's been edited.)\
\
(3) When a block node is selected, and an addition is selected (somehow: search or create), add to both the visible tree and the scenario.\
\
The world needs a treeApply!!\
 \

\b \
2014-05-30
\b0 \
\
Got a good edit/test cycle going with vi www/ss-jstree.js\
Still can't get either the path length or the class.\
\
When opening in browser,\
-- the tabs appear to the right of the title instead of below,\
-- while ss-jstree is running, the tree is visible, with different colors so that the CSS and the class attributes are there. (But no icons or lines.)  But then the tree disappears. \
\
\pard\pardeftab720\sl460
\cf0 \cb19 \
\pard\pardeftab720\sl460

\b \cf0 \cb19 2014-05-31\
\pard\pardeftab720\sl460

\b0 \cf0 \cb19 \
No longer responding to tree click.  All conditionalPanels show up, suggesting that the javascript is aborted, possibly duplicate JS var names (a previous cause), but probably not that.  \
\
using git bisect, I found this commit did the selectedNode stuff fine:\
e175c8b366f03c0b90ad253425a4ed619147cb1f  \
though not the >1 part.\
\
Aha! Could it be that textOutput("selectedNode") shows up in both conditionPanel1 and conditionPanelMoreThan1?  YES!  that solved the problem. shiny should probably include a check for duplicates in each reactive function call assignment.\
\
Right-clicking on a node via control-click brings up the special tree context menu (not ther regular menu), and de-selects the tree node.\
\
\
\pard\pardeftab720\sl460

\b \cf0 \cb19 2014-06-02
\b0 \cb19 \
\
Valuable description of delegated events:\
http://api.jquery.com/on/\
\
'alert($("#jstree1"))'   shows [object Object]\
'alert($("#jstree1").inst)'  shows undefined\
'alert($("#jstree1").data().length)', shows undefined\
\
'alert($("#jstree1")[0])',   shows [object HTMLDivElement]\
'alert($("#jstree1")[0][0])', shows undefined\
\
\
'alert($("#jstree1").get_json())',   the alert doesn't happen for any of these:\
'alert($("#jstree1").getJSON())',\
'alert($("#jstree1").getJSON()[0])',\
'alert($("#jstree1").jstree.get_selected().length)',\
\
 'alert($("#jstree1").jstree().get_selected())',\
   returns an empty alert (not even "") initially.\
  Selecting nodes successively generate alert text:\
	j1_1  j1_2  etc. (in order in the tree, regardless of depth)\
  Selecting multiple nodes generates alert text like \
	j1_1,j1_2,j1_3\
Adding [0] to the query returns undefined initially, then j1_1 etc.\
 Adding [0].text to the query is undefined even after selecting.\
'alert($("#jstree1").jstree().get_selected()[0].text)',\
\
  'alert($("#jstree1").jstree().get_selected()[0].attr("class"))',\
the alert fails.\
\
'alert($("#jstree1").attr("class"))',\
RETURNS this:\
	ss-jstree jstree jstree-1 jstree-default jstree-default-responsive shiny-bound-input\
The same for all node clicks.\
\
'alert($("#jstree1").attr("id"))',  returns "jstree1"\
\
In ss-jstree.js, "leaves" corresponds to $("#jstree1").jstree().get_selected()\
Thus:\
	 'alert($("#jstree1").jstree()\
	           .get_node(\
	                   $("#jstree1").jstree().get_selected()\
	       ))',\
returns "false" initially, then [object Object].\
\
The labels    'alert($("#jstree1").jstree().get_selected().toString())',  #j1_2 etc\
do NOT change if tree branches above are closed are opened. Whew.\
====\
Here is the entire set of commented efforts and notes:\
\
#'$( "select option:selected".length > 0 )',\
                                     #  '!(typeof input.jstree1 === "undefined") && input.jstree1.length > 0',\
                                     #  'output.numberSelected', ## fails. why?\
                                     #   'output.selectedNode', # this works better\
#                                     '$("#jstree1").length == 1',  #doesn't work.\
#          '$("#jstree1").getValue().length == 1',  #doesn't work.\
#                                   'input.jstree1.length == 1', #perfect\
#  'alert($("#jstree1").get_json())',\
#'alert($("#jstree1").data().length)',\
\
  #  'alert($("#jstree1")  /// breaking the line is ok.\
  #     .attr("class"))',  ### ss-jstree jstree jstree-1 jstree-default jstree-default-responsive shiny-bound-input\
\
#   'alert($("#jstree1").jstree().get_selected()[0].attr("class"))', ## no alert\
\
#'   alert($("#jstree1").jstree().get_selected().length )',  #This works!! 0 1 2 etc.\
\
#   'alert($("#jstree1").jstree().get_selected()[0].toString() )',  #This works!! But just delivers the j1_2 etc.\
\
# the following is patterned after ss-jstree.js:  tree.get_node(leaves[i])\
#   'alert($("#jstree1").jstree()      // "tree", in ss-jstree.js\
#             .get_node(\
#                     $("#jstree1").jstree().get_selected()   // leaves, in ss-jstree.js\
#         ) )',  # false, or [object Object].\
\
# 'alert($("#jstree1").jstree()      // "tree", in ss-jstree.js\
#             .get_node(\
#                     $("#jstree1").jstree().get_selected() [0]  // leaves, in ss-jstree.js\
#         ).length )',  #undefined.\
\
============\
\
The last item in the tree is j1_67. Looking at unlist(myTreeObj).\
And, sum(unlist(myTreeObj) == "li")  equals 67.\
There are 13 "children.children" BLOCKs, \
18 "children.children.children.children"  (VGs), \
and 4 "children.children.children.children.children.children" (details)\
\
> table(names(unlist(myTreeObj)[ which(unlist(myTreeObj) == "li") + 4]))\
\
                                     children.children \
                                                    13 \
                   children.children.children.children \
                                                    18 \
 children.children.children.children.children.children \
                                                     4 \
children.children.children.children.children.children1 \
                                                    32 \
For each children.children.children.children.children.children1\
there is a children.children.children.children.children.children2.\
\

\b \cb19 2014-06-04\
\pard\pardeftab720\sl460

\b0 \cf0 \cb19 \
To simplify, do git commits frequently to ui.R and server.R, and periodically bring the linked files up to date.\
\
\pard\pardeftab720\sl460

\b \cf0 \cb19 2014-06-05\
\pard\pardeftab720\sl460

\b0 \cf0 \cb19 Beginning a refactoring where ALL the VGs and Variables and Scenarios etc are ALWAYS stored in either the local or the github swapmeet.\
\
How to store?  Currently as source files. But hard to search. \
If it were a single environment, you could search through the objects by type. Later you could even construct and maintain an index for them.\
But using source files, users can push to github.\
You could then periodically sync and rebuild a local catalog for search.\
\
SwapItem (SharedItem?) is a superclass of Insert and Variable and Scenario.\
\
}